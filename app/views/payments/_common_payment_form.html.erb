<div class="form-group payment-form">
<%= hidden_field_tag "paymill_card_token" %>
<%= hidden_field_tag "total-price", "#{payment.total_price}" %>
<%= hidden_field_tag "price", "#{payment.price}" %>
<%= hidden_field_tag "quantity", "#{payment.quantity}" %>

<%= text_field_tag "name", nil, placeholder: "Card holder name", size: 50, class: "form-control" %>
</div>
<div class="form-group payment-form">
<%= text_field_tag "card_number", nil, placeholder: "Card number", size: 16, class: "form-control"  %>
</div>
<div class="form-group">
<div class="row">
	<div class="col-md-4">
		Expiration Month:<br>
		<select id="month-selector" class="exp-month-selector form-control">
			<%= ('01'..'12').to_a.each do |m| %>
				<%= options_for_select([[m, m]]) %>
			<% end %>
		</select>
	</div>
	<div class="col-md-5">
		Expiration Year:<br>
		<select id="year-selector" class="exp-year-selector form-control">
			<%= (Time.now.year..Time.now.year+20).to_a.each do |y| %>
				<%= options_for_select([[y, y]]) %>
			<% end %>
		</select>
	</div>
	<div class="col-md-3">
		CVC:<br>
		<input id="cvc-field" class="cvc-input form-control" type="password" size="3" maxlength="3"></input>
	</div>
</div>
<div class="hidden">
	<%= text_field_tag "expiration_month", nil, placeholder: "Expiration month", size: 2, class: "form-control"  %>
	<%= text_field_tag "expiration_year", nil, placeholder: "Expiration year", size: 4, class: "form-control"  %>
	<%= text_field_tag "cvc", nil, placeholder: "CVC", size: 3, class: "form-control"  %>
</div>

<%= javascript_include_tag "https://bridge.paymill.com/" %>
<%= javascript_include_tag "paymill_bridge_adapter" %>
</div>

<script>
$(document).ready(function(){
	$("#expiration_month").val("01");
	$("#expiration_year").val("2014");
	$(".exp-month-selector").change(function(){
		$("#expiration_month").val($(".exp-month-selector").val());
	});

	$(".exp-year-selector").change(function(){
		$("#expiration_year").val($(".exp-year-selector").val());
	});

	$(".cvc-input").change(function(){
		$("#cvc").val($(".cvc-input").val());
	});
});
</script>
